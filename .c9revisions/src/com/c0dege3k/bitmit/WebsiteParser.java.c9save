{"ts":1366202760978,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"package com.c0dege3k.bitmit;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\n\nimport org.htmlcleaner.CleanerProperties;\nimport org.htmlcleaner.HtmlCleaner;\nimport org.htmlcleaner.PrettyXmlSerializer;\nimport org.htmlcleaner.TagNode;\n\nimport android.util.Log;\n\npublic class WebsiteParser {\n\tprivate final String TAG = \"WebsiteParser\";\n\t\n\tHtmlCleaner pageParser;\n\tCleanerProperties props;\n\n\tURL cateURL;\n\t\n\tpublic WebsiteParser() {\n\t\ttry {\n\t\t\tcateURL = new URL(\"https://www.bimit.net/en/\");\n\t\t} catch (MalformedURLException e) {\n\t\t\tLog.d(TAG, \"URL to Bimit is bad!\");\n\t\t}\n\t\t\n\t\tpageParser = new HtmlCleaner();\n\t\tprops = pageParser.getProperties();\n\t\tprops.setAllowHtmlInsideAttributes(true);\n\t\tprops.setAllowMultiWordAttributes(true);\n\t\tprops.setRecognizeUnicodeChars(true);\n\t\tprops.setOmitComments(true);\n\t}\n\tpublic ArrayList<String> getCategories(){\n\t\tArrayList<String> categories = new ArrayList<String>();\n\t\tTagNode tagNode;\n\t\ttry {\n\t\t\ttagNode = new HtmlCleaner(props).clean(cateURL);\n\t\t} catch (IOException e) {\n\t\t\tLog.d(TAG, \"TagNode ran IOException\");\n\t\t\te.printStackTrace();\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tnew PrettyXmlSerializer(props).writeToFile(tagNode, \"bitmit_home.xml\", \"utf-8\");\n\t\t} catch (IOException e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":1347}]],"length":1347}
